---
import { getEntries } from 'astro:content'
import { type CollectionEntry } from 'astro:content'

type Props = {
  tags: Omit<CollectionEntry<'tags'>, 'data'>[]
}

const { tags } = Astro.props as Props
const allTags = await getEntries(tags)

const tagLinks = tags
  ? allTags.map((tag) => ({
      href: `/${tag.collection}/${tag.id}`,
      name: tag.data.name,
    }))
  : []
---

<div>
  <div class="text-neutral-700 dark:text-neutral-300 mb-1 text-xl">Tags</div>
  <div class="flex flex-col gap-1">
    {
      tags &&
        tagLinks.map((tag) => (
          <a
            href={tag.href}
            class="text-emerald-600 dark:text-emerald-400 hover:text-emerald-500"
          >
            {tag.name}
          </a>
        ))
    }
  </div>
</div>
