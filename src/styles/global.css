@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Tenor+Sans&family=Geist+Mono:wght@100..900&display=swap');
@import 'tailwindcss';
@import 'tailwindcss-animated';
@plugin '@tailwindcss/typography';

/* Configure dark mode for Tailwind v4 */
@variant dark (.dark &);

/* 
 * Tailwind v4 Migration
 * =====================
 * This configuration replaces the previous tailwind.config.mjs theme configuration.
 * 
 * Migrated from v3 config:
 * - Font families (sans, serif, mono)
 * - Breakpoints (from container.screens)
 * - Extended border radius values (sm, md, lg)
 * - Extended color system (all custom colors)
 * - Container utility class (manually implemented)
 * 
 * Note: Plugins (@tailwindcss/typography, tailwindcss-animate) may need 
 * v4-compatible versions when they become available.
 */

@theme {
  /* Font Families */
  --font-family-sans:
    'Inter', ui-sans-serif, system-ui, sans-serif, Apple Color Emoji,
    Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;
  --font-family-serif:
    'Tenor Sans', ui-serif, Georgia, Cambria, Times New Roman, Times, serif;
  --font-family-mono:
    Geist Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    Liberation Mono, Courier New, monospace;

  /* Breakpoints - converted from container screens */
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1536px;

  /* Custom Border Radius Values */
  --border-radius-sm: calc(var(--radius) - 4px);
  --border-radius-md: calc(var(--radius) - 2px);
  --border-radius-lg: var(--radius);

  /* Custom Color System */
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-chart-1: hsl(var(--chart-1));
  --color-chart-2: hsl(var(--chart-2));
  --color-chart-3: hsl(var(--chart-3));
  --color-chart-4: hsl(var(--chart-4));
  --color-chart-5: hsl(var(--chart-5));
  --color-radius: 0.5rem;

  /* Footer SVG Colors (Light Mode) - Shades of Off-White/Sand */
  --footer-landscape-1: 35 10% 85%; /* Faintest/Furthest */
  --footer-landscape-2: 35 10% 80%; /* Mid */
  --footer-landscape-3: 35 10% 75%; /* Closest */
  --footer-sun: 0 72% 38%; /* Red Sun (Primary) */
}

.prose {
  color: var(--color-foreground);
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: var(--color-foreground);
    font-weight: 700;
  }
  code {
    color: var(--muted-foreground);
    background-color: var(--muted);
    padding: 0.2em 0.4em;
    border-radius: 0.25rem;
    font-size: 0.875em;
  }
  a {
    @apply text-primary underline;
    &:hover {
      @apply text-primary/80;
    }
    &:visited {
      @apply text-primary/60;
    }
  }

  blockquote {
    font-style: italic;
    color: var(--color-foreground);
    border-left-color: var(--color-primary);
  }
  strong {
    color: var(--color-foreground);
    font-weight: 700;
  }
}

/* Container utilities - v4 style (replaces theme.container config) */
@layer utilities {
  .container {
    max-width: 100%;
    margin-left: auto;
    margin-right: auto;
    padding-left: 2rem;
    padding-right: 2rem;
  }

  @media (min-width: theme(breakpoint.sm)) {
    .container {
      max-width: 640px;
    }
  }

  @media (min-width: theme(breakpoint.md)) {
    .container {
      max-width: 768px;
    }
  }

  @media (min-width: theme(breakpoint.lg)) {
    .container {
      max-width: 1024px;
    }
  }

  @media (min-width: theme(breakpoint.xl)) {
    .container {
      max-width: 1280px;
    }
  }

  @media (min-width: theme(breakpoint.2xl)) {
    .container {
      max-width: 1280px;
    }
  }

  .brutalist-shadow {
    box-shadow: 4px 4px 0px var(--color-primary);
  }

  .animate-marquee {
    display: inline-block;
    animation: marquee 20s linear infinite;
  }

  @keyframes marquee {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-50%);
    }
  }
}

html,
body {
  min-height: 100vh;
}

body {
  height: 100%;
  position: relative;
}

@layer base {
  :root {
    /* Light Mode: Editorial Archives */
    --background: 40 20% 98%; /* Alabaster Paper */
    --foreground: 20 10% 10%; /* Warm Deep Ink */
    --card: 40 20% 98%;
    --card-foreground: 20 10% 10%;
    --popover: 40 20% 98%;
    --popover-foreground: 20 10% 10%;
    --primary: 0 72% 38%; /* Deep Editorial Red */
    --primary-foreground: 40 20% 98%;
    --secondary: 35 15% 90%; /* Pale Sand/Manila - Pairing Color */
    --secondary-foreground: 20 10% 10%;
    --muted: 35 15% 90%;
    --muted-foreground: 25 5% 45%;
    --accent: 35 15% 90%;
    --accent-foreground: 20 10% 10%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 20 5% 85%; /* Subtle paper edge */
    --input: 20 5% 85%;
    --ring: 0 72% 38%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;

    /* Footer SVG Colors (Light Mode) - Shades of Off-White/Sand */
    --footer-landscape-1: 35 10% 85%; /* Faintest/Furthest */
    --footer-landscape-2: 35 10% 80%; /* Mid */
    --footer-landscape-3: 35 10% 75%; /* Closest */
    --footer-sun: 0 72% 38%; /* Red Sun (Primary) */
  }
  .dark {
    --background: 171 80% 4%;
    --foreground: 220 13% 91%;
    --card: 171 55% 13%;
    --card-foreground: 220 13% 91%;
    --popover: 171 80% 4%;
    --popover-foreground: 220 13% 91%;
    --primary: 72 100% 50%;
    --primary-foreground: 171 80% 4%;
    --secondary: 171 55% 13%;
    --secondary-foreground: 220 13% 91%;
    --muted: 171 55% 13%;
    --muted-foreground: 220 13% 70%;
    --accent: 18 100% 50%;
    --accent-foreground: 220 13% 91%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 72 100% 50% / 0.2;
    --input: 171 55% 13%;
    --ring: 72 100% 50%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;

    /* Footer SVG Colors (Dark Mode) - Deep Greens */
    --footer-landscape-1: 160 60% 18%; /* Deep Flow */
    --footer-landscape-2: 155 50% 22%; /* Mid Flow */
    --footer-landscape-3: 165 80% 10%; /* Foreground Blob */
    --footer-sun: 72 100% 50%; /* Lime Sun */
  }
}

.noise-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9999;
  opacity: 0.04;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
}

::selection {
  background-color: #ccff00;
  color: #021210;
}

.animate-shooter {
  animation: shooter 1s ease-in-out both;
}

@keyframes shooter {
  from {
    transform: translateX(0) translateY(0);
    opacity: 1;
  }
  to {
    transform: translateX(144rem) translateY(48rem);
    opacity: 0;
  }
}

.animate-slow-pulse {
  animation: pulse 10s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse {
  0%,
  100% {
    opacity: 0.2;
  }
  50% {
    opacity: 0.075;
  }
}

.typed-out {
  overflow: hidden;
  border-right: 0.15em solid orange;
  white-space: nowrap;
  width: 0;
  animation:
    typing 1s steps(20, end) forwards,
    blink 0.8s infinite;
}

@keyframes typing {
  from {
    width: 0;
  }
  to {
    width: 100%;
  }
}

@keyframes blink {
  from {
    border-color: transparent;
  }
  to {
    border-color: orange;
  }
}

@keyframes aurora-1 {
  0% {
    top: 0;
    right: 0;
  }

  50% {
    top: 100%;
    right: 75%;
  }

  75% {
    top: 100%;
    right: 25%;
  }

  100% {
    top: 0;
    right: 0;
  }
}

@keyframes aurora-2 {
  0% {
    top: -50%;
    left: 0%;
  }

  60% {
    top: 100%;
    left: 75%;
  }

  85% {
    top: 100%;
    left: 25%;
  }

  100% {
    top: -50%;
    left: 0%;
  }
}

@keyframes aurora-3 {
  0% {
    bottom: 0;
    left: 0;
  }

  40% {
    bottom: 100%;
    left: 75%;
  }

  65% {
    bottom: 40%;
    left: 50%;
  }

  100% {
    bottom: 0;
    left: 0;
  }
}

@keyframes aurora-4 {
  0% {
    bottom: -50%;
    right: 0;
  }

  50% {
    bottom: 0%;
    right: 40%;
  }

  90% {
    bottom: 50%;
    right: 25%;
  }

  100% {
    bottom: -50%;
    right: 0;
  }
}

@keyframes aurora-border {
  0% {
    border-radius: 37% 29% 27% 27% / 28% 25% 41% 37%;
  }

  25% {
    border-radius: 47% 29% 39% 49% / 61% 19% 66% 26%;
  }

  50% {
    border-radius: 57% 23% 47% 72% / 63% 17% 66% 33%;
  }

  75% {
    border-radius: 28% 49% 29% 100% / 93% 20% 64% 25%;
  }

  100% {
    border-radius: 37% 29% 27% 27% / 28% 25% 41% 37%;
  }
}

.fade-in {
  animation: fade-in 0.5s ease-in-out forwards;
}

.fade-out {
  animation: fade-out 0.5s ease-in-out forwards;
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.heropattern-topography-sky-300 {
  fill: oklch(82.8% 0.111 230.318);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cpath fill='%239C92AC' fill-opacity='0.4' d='M0 0h100v100H0z'/%3E%3C/svg%3E");
}

.slide-in-from-bottom-2 {
  animation: slide-in-from-bottom-2 0.6s ease-out;
}

@keyframes slide-in-from-bottom-2 {
  from {
    opacity: 0;
    transform: translateY(0.5rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fill-mode-both {
  animation-fill-mode: both;
}

/* Animations for Logical/Physical Layer */
@keyframes flow-right {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

.animate-flow-right {
  animation: flow-right 1.5s linear infinite;
}

@keyframes dash {
  to {
    stroke-dashoffset: -20;
  }
}

.animate-dash {
  animation: dash 1s linear infinite;
}

.animate-dash-fast {
  animation: dash 0.5s linear infinite;
}
